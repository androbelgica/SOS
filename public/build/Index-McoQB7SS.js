import{R as o,m as U,r as se,$ as ce,Y as X}from"./app2.js";import{M as ue}from"./MainLayout-B06OhM-w.js";import{b as de}from"./imageHelpers-CwpBxbIF.js";import{C as fe}from"./CategoryBadge-76tlJxyn.js";import"./FlashMessage-CcTVzuzS.js";import"./NotificationDropdown-Bq8s4d9o.js";import"./transition-Cpe-sHT0.js";var M,J;function V(){if(J)return M;J=1;var k=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return M={default:n.RFC3986,formatters:{RFC1738:function(t){return k.call(t,e,"+")},RFC3986:function(t){return String(t)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},M}var Q,ee;function ie(){if(ee)return Q;ee=1;var k=V(),e=Object.prototype.hasOwnProperty,n=Array.isArray,t=function(){for(var r=[],a=0;a<256;++a)r.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return r}(),h=function(a){for(;a.length>1;){var i=a.pop(),c=i.obj[i.prop];if(n(c)){for(var m=[],u=0;u<c.length;++u)typeof c[u]<"u"&&m.push(c[u]);i.obj[i.prop]=m}}},b=function(a,i){for(var c=i&&i.plainObjects?Object.create(null):{},m=0;m<a.length;++m)typeof a[m]<"u"&&(c[m]=a[m]);return c},v=function r(a,i,c){if(!i)return a;if(typeof i!="object"){if(n(a))a.push(i);else if(a&&typeof a=="object")(c&&(c.plainObjects||c.allowPrototypes)||!e.call(Object.prototype,i))&&(a[i]=!0);else return[a,i];return a}if(!a||typeof a!="object")return[a].concat(i);var m=a;return n(a)&&!n(i)&&(m=b(a,c)),n(a)&&n(i)?(i.forEach(function(u,g){if(e.call(a,g)){var x=a[g];x&&typeof x=="object"&&u&&typeof u=="object"?a[g]=r(x,u,c):a.push(u)}else a[g]=u}),a):Object.keys(i).reduce(function(u,g){var x=i[g];return e.call(u,g)?u[g]=r(u[g],x,c):u[g]=x,u},m)},l=function(a,i){return Object.keys(i).reduce(function(c,m){return c[m]=i[m],c},a)},w=function(r,a,i){var c=r.replace(/\+/g," ");if(i==="iso-8859-1")return c.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(c)}catch{return c}},N=function(a,i,c,m,u){if(a.length===0)return a;var g=a;if(typeof a=="symbol"?g=Symbol.prototype.toString.call(a):typeof a!="string"&&(g=String(a)),c==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(j){return"%26%23"+parseInt(j.slice(2),16)+"%3B"});for(var x="",O=0;O<g.length;++O){var p=g.charCodeAt(O);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||u===k.RFC1738&&(p===40||p===41)){x+=g.charAt(O);continue}if(p<128){x=x+t[p];continue}if(p<2048){x=x+(t[192|p>>6]+t[128|p&63]);continue}if(p<55296||p>=57344){x=x+(t[224|p>>12]+t[128|p>>6&63]+t[128|p&63]);continue}O+=1,p=65536+((p&1023)<<10|g.charCodeAt(O)&1023),x+=t[240|p>>18]+t[128|p>>12&63]+t[128|p>>6&63]+t[128|p&63]}return x},E=function(a){for(var i=[{obj:{o:a},prop:"o"}],c=[],m=0;m<i.length;++m)for(var u=i[m],g=u.obj[u.prop],x=Object.keys(g),O=0;O<x.length;++O){var p=x[O],j=g[p];typeof j=="object"&&j!==null&&c.indexOf(j)===-1&&(i.push({obj:g,prop:p}),c.push(j))}return h(i),a},d=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},y=function(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))},s=function(a,i){return[].concat(a,i)},f=function(a,i){if(n(a)){for(var c=[],m=0;m<a.length;m+=1)c.push(i(a[m]));return c}return i(a)};return Q={arrayToObject:b,assign:l,combine:s,compact:E,decode:w,encode:N,isBuffer:y,isRegExp:d,maybeMap:f,merge:v},Q}var H,re;function me(){if(re)return H;re=1;var k=ie(),e=V(),n=Object.prototype.hasOwnProperty,t={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,a){return r+"["+a+"]"},repeat:function(r){return r}},h=Array.isArray,b=String.prototype.split,v=Array.prototype.push,l=function(f,r){v.apply(f,h(r)?r:[r])},w=Date.prototype.toISOString,N=e.default,E={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:k.encode,encodeValuesOnly:!1,format:N,formatter:e.formatters[N],indices:!1,serializeDate:function(r){return w.call(r)},skipNulls:!1,strictNullHandling:!1},d=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},y=function f(r,a,i,c,m,u,g,x,O,p,j,S,P,A){var $=r;if(typeof g=="function"?$=g(a,$):$ instanceof Date?$=p($):i==="comma"&&h($)&&($=k.maybeMap($,function(T){return T instanceof Date?p(T):T})),$===null){if(c)return u&&!P?u(a,E.encoder,A,"key",j):a;$=""}if(d($)||k.isBuffer($)){if(u){var Z=P?a:u(a,E.encoder,A,"key",j);if(i==="comma"&&P){for(var W=b.call(String($),","),G="",R=0;R<W.length;++R)G+=(R===0?"":",")+S(u(W[R],E.encoder,A,"value",j));return[S(Z)+"="+G]}return[S(Z)+"="+S(u($,E.encoder,A,"value",j))]}return[S(a)+"="+S(String($))]}var q=[];if(typeof $>"u")return q;var L;if(i==="comma"&&h($))L=[{value:$.length>0?$.join(",")||null:void 0}];else if(h(g))L=g;else{var K=Object.keys($);L=x?K.sort(x):K}for(var _=0;_<L.length;++_){var F=L[_],Y=typeof F=="object"&&typeof F.value<"u"?F.value:$[F];if(!(m&&Y===null)){var oe=h($)?typeof i=="function"?i(a,F):a:a+(O?"."+F:"["+F+"]");l(q,f(Y,oe,i,c,m,u,g,x,O,p,j,S,P,A))}}return q},s=function(r){if(!r)return E;if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var a=r.charset||E.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=e.default;if(typeof r.format<"u"){if(!n.call(e.formatters,r.format))throw new TypeError("Unknown format option provided.");i=r.format}var c=e.formatters[i],m=E.filter;return(typeof r.filter=="function"||h(r.filter))&&(m=r.filter),{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:E.addQueryPrefix,allowDots:typeof r.allowDots>"u"?E.allowDots:!!r.allowDots,charset:a,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:E.charsetSentinel,delimiter:typeof r.delimiter>"u"?E.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:E.encode,encoder:typeof r.encoder=="function"?r.encoder:E.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:E.encodeValuesOnly,filter:m,format:i,formatter:c,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:E.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:E.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:E.strictNullHandling}};return H=function(f,r){var a=f,i=s(r),c,m;typeof i.filter=="function"?(m=i.filter,a=m("",a)):h(i.filter)&&(m=i.filter,c=m);var u=[];if(typeof a!="object"||a===null)return"";var g;r&&r.arrayFormat in t?g=r.arrayFormat:r&&"indices"in r?g=r.indices?"indices":"repeat":g="indices";var x=t[g];c||(c=Object.keys(a)),i.sort&&c.sort(i.sort);for(var O=0;O<c.length;++O){var p=c[O];i.skipNulls&&a[p]===null||l(u,y(a[p],p,x,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var j=u.join(i.delimiter),S=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),j.length>0?S+j:""},H}var I,te;function ge(){if(te)return I;te=1;var k=ie(),e=Object.prototype.hasOwnProperty,n=Array.isArray,t={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:k.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},h=function(y){return y.replace(/&#(\d+);/g,function(s,f){return String.fromCharCode(parseInt(f,10))})},b=function(y,s){return y&&typeof y=="string"&&s.comma&&y.indexOf(",")>-1?y.split(","):y},v="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",w=function(s,f){var r={},a=f.ignoreQueryPrefix?s.replace(/^\?/,""):s,i=f.parameterLimit===1/0?void 0:f.parameterLimit,c=a.split(f.delimiter,i),m=-1,u,g=f.charset;if(f.charsetSentinel)for(u=0;u<c.length;++u)c[u].indexOf("utf8=")===0&&(c[u]===l?g="utf-8":c[u]===v&&(g="iso-8859-1"),m=u,u=c.length);for(u=0;u<c.length;++u)if(u!==m){var x=c[u],O=x.indexOf("]="),p=O===-1?x.indexOf("="):O+1,j,S;p===-1?(j=f.decoder(x,t.decoder,g,"key"),S=f.strictNullHandling?null:""):(j=f.decoder(x.slice(0,p),t.decoder,g,"key"),S=k.maybeMap(b(x.slice(p+1),f),function(P){return f.decoder(P,t.decoder,g,"value")})),S&&f.interpretNumericEntities&&g==="iso-8859-1"&&(S=h(S)),x.indexOf("[]=")>-1&&(S=n(S)?[S]:S),e.call(r,j)?r[j]=k.combine(r[j],S):r[j]=S}return r},N=function(y,s,f,r){for(var a=r?s:b(s,f),i=y.length-1;i>=0;--i){var c,m=y[i];if(m==="[]"&&f.parseArrays)c=[].concat(a);else{c=f.plainObjects?Object.create(null):{};var u=m.charAt(0)==="["&&m.charAt(m.length-1)==="]"?m.slice(1,-1):m,g=parseInt(u,10);!f.parseArrays&&u===""?c={0:a}:!isNaN(g)&&m!==u&&String(g)===u&&g>=0&&f.parseArrays&&g<=f.arrayLimit?(c=[],c[g]=a):u!=="__proto__"&&(c[u]=a)}a=c}return a},E=function(s,f,r,a){if(s){var i=r.allowDots?s.replace(/\.([^.[]+)/g,"[$1]"):s,c=/(\[[^[\]]*])/,m=/(\[[^[\]]*])/g,u=r.depth>0&&c.exec(i),g=u?i.slice(0,u.index):i,x=[];if(g){if(!r.plainObjects&&e.call(Object.prototype,g)&&!r.allowPrototypes)return;x.push(g)}for(var O=0;r.depth>0&&(u=m.exec(i))!==null&&O<r.depth;){if(O+=1,!r.plainObjects&&e.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;x.push(u[1])}return u&&x.push("["+i.slice(u.index)+"]"),N(x,f,r,a)}},d=function(s){if(!s)return t;if(s.decoder!==null&&s.decoder!==void 0&&typeof s.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var f=typeof s.charset>"u"?t.charset:s.charset;return{allowDots:typeof s.allowDots>"u"?t.allowDots:!!s.allowDots,allowPrototypes:typeof s.allowPrototypes=="boolean"?s.allowPrototypes:t.allowPrototypes,arrayLimit:typeof s.arrayLimit=="number"?s.arrayLimit:t.arrayLimit,charset:f,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:t.charsetSentinel,comma:typeof s.comma=="boolean"?s.comma:t.comma,decoder:typeof s.decoder=="function"?s.decoder:t.decoder,delimiter:typeof s.delimiter=="string"||k.isRegExp(s.delimiter)?s.delimiter:t.delimiter,depth:typeof s.depth=="number"||s.depth===!1?+s.depth:t.depth,ignoreQueryPrefix:s.ignoreQueryPrefix===!0,interpretNumericEntities:typeof s.interpretNumericEntities=="boolean"?s.interpretNumericEntities:t.interpretNumericEntities,parameterLimit:typeof s.parameterLimit=="number"?s.parameterLimit:t.parameterLimit,parseArrays:s.parseArrays!==!1,plainObjects:typeof s.plainObjects=="boolean"?s.plainObjects:t.plainObjects,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:t.strictNullHandling}};return I=function(y,s){var f=d(s);if(y===""||y===null||typeof y>"u")return f.plainObjects?Object.create(null):{};for(var r=typeof y=="string"?w(y,f):y,a=f.plainObjects?Object.create(null):{},i=Object.keys(r),c=0;c<i.length;++c){var m=i[c],u=E(m,r[m],f,typeof y=="string");a=k.merge(a,u,f)}return k.compact(a)},I}var B,ae;function he(){if(ae)return B;ae=1;var k=me(),e=ge(),n=V();return B={formats:n,parse:e,stringify:k},B}var le=he();function C(){return C=Object.assign?Object.assign.bind():function(k){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)({}).hasOwnProperty.call(n,t)&&(k[t]=n[t])}return k},C.apply(null,arguments)}class z{constructor(e,n,t){var h,b;this.name=e,this.definition=n,this.bindings=(h=n.bindings)!=null?h:{},this.wheres=(b=n.wheres)!=null?b:{},this.config=t}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,n;return(e=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(t=>({name:t.replace(/{|\??}/g,""),required:!/\?}$/.test(t)})))!=null?e:[]}matchesUrl(e){var n;if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(l,w,N,E)=>{var d;const y=`(?<${N}>${((d=this.wheres[N])==null?void 0:d.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return E?`(${w}${y})?`:`${w}${y}`}).replace(/^\w+:\/\//,""),[h,b]=e.replace(/^\w+:\/\//,"").split("?"),v=(n=new RegExp(`^${t}/?$`).exec(h))!=null?n:new RegExp(`^${t}/?$`).exec(decodeURI(h));if(v){for(const l in v.groups)v.groups[l]=typeof v.groups[l]=="string"?decodeURIComponent(v.groups[l]):v.groups[l];return{params:v.groups,query:le.parse(b)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(n,t,h)=>{var b,v;if(!h&&[null,void 0].includes(e[t]))throw new Error(`Ziggy error: '${t}' parameter is required for route '${this.name}'.`);if(this.wheres[t]&&!new RegExp(`^${h?`(${this.wheres[t]})?`:this.wheres[t]}$`).test((v=e[t])!=null?v:""))throw new Error(`Ziggy error: '${t}' parameter '${e[t]}' does not match required format '${this.wheres[t]}' for route '${this.name}'.`);return encodeURI((b=e[t])!=null?b:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class ye extends String{constructor(e,n,t=!0,h){if(super(),this.t=h??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=C({},this.t,{absolute:t}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new z(e,this.t.routes[e],this.t),this.o=this.u(n)}}toString(){const e=Object.keys(this.o).filter(n=>!this.i.parameterSegments.some(({name:t})=>t===n)).filter(n=>n!=="_query").reduce((n,t)=>C({},n,{[t]:this.o[t]}),{});return this.i.compile(this.o)+le.stringify(C({},e,this.o._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(n,t)=>typeof n=="boolean"?Number(n):t(n)})}h(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.l().host+e):e=this.m();let n={};const[t,h]=Object.entries(this.t.routes).find(([b,v])=>n=new z(b,v,this.t).matchesUrl(e))||[void 0,void 0];return C({name:t},n,{route:h})}m(){const{host:e,pathname:n,search:t}=this.l();return(this.t.absolute?e+n:n.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+t}current(e,n){const{name:t,params:h,query:b,route:v}=this.h();if(!e)return t;const l=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(t);if([null,void 0].includes(n)||!l)return l;const w=new z(t,v,this.t);n=this.u(n,w);const N=C({},h,b);if(Object.values(n).every(d=>!d)&&!Object.values(N).some(d=>d!==void 0))return!0;const E=(d,y)=>Object.entries(d).every(([s,f])=>Array.isArray(f)&&Array.isArray(y[s])?f.every(r=>y[s].includes(r)):typeof f=="object"&&typeof y[s]=="object"&&f!==null&&y[s]!==null?E(f,y[s]):y[s]==f);return E(n,N)}l(){var e,n,t,h,b,v;const{host:l="",pathname:w="",search:N=""}=typeof window<"u"?window.location:{};return{host:(e=(n=this.t.location)==null?void 0:n.host)!=null?e:l,pathname:(t=(h=this.t.location)==null?void 0:h.pathname)!=null?t:w,search:(b=(v=this.t.location)==null?void 0:v.search)!=null?b:N}}get params(){const{params:e,query:n}=this.h();return C({},e,n)}get routeParams(){return this.h().params}get queryParams(){return this.h().query}has(e){return this.t.routes.hasOwnProperty(e)}u(e={},n=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const t=n.parameterSegments.filter(({name:h})=>!this.t.defaults[h]);return Array.isArray(e)?e=e.reduce((h,b,v)=>C({},h,t[v]?{[t[v].name]:b}:typeof b=="object"?b:{[b]:""}),{}):t.length!==1||e[t[0].name]||!e.hasOwnProperty(Object.values(n.bindings)[0])&&!e.hasOwnProperty("id")||(e={[t[0].name]:e}),C({},this.$(n),this.p(e,n))}$(e){return e.parameterSegments.filter(({name:n})=>this.t.defaults[n]).reduce((n,{name:t},h)=>C({},n,{[t]:this.t.defaults[t]}),{})}p(e,{bindings:n,parameterSegments:t}){return Object.entries(e).reduce((h,[b,v])=>{if(!v||typeof v!="object"||Array.isArray(v)||!t.some(({name:l})=>l===b))return C({},h,{[b]:v});if(!v.hasOwnProperty(n[b])){if(!v.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${b}' parameter is missing route model binding key '${n[b]}'.`);n[b]="id"}return C({},h,{[b]:v[n[b]]})},{})}valueOf(){return this.toString()}}function D(k,e,n,t){const h=new ye(k,e,n,t);return k?h.toString():h}const ne=({categories:k=[],currentCategory:e="",onCategoryChange:n,routeName:t,filters:h={},showIcons:b=!0,showCounts:v=!1,layout:l="dropdown"})=>{const w=d=>{n?n(d):t&&U.get(D(t),{...h,category:d||null},{preserveState:!0})},N=d=>{const y={blue:"text-blue-600 bg-blue-50 border-blue-200 hover:bg-blue-100",cyan:"text-cyan-600 bg-cyan-50 border-cyan-200 hover:bg-cyan-100",orange:"text-orange-600 bg-orange-50 border-orange-200 hover:bg-orange-100",red:"text-red-600 bg-red-50 border-red-200 hover:bg-red-100",green:"text-green-600 bg-green-50 border-green-200 hover:bg-green-100",yellow:"text-yellow-600 bg-yellow-50 border-yellow-200 hover:bg-yellow-100",gray:"text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100"};return y[d]||y.gray},E=d=>{const y={blue:"text-white bg-blue-600 border-blue-600",cyan:"text-white bg-cyan-600 border-cyan-600",orange:"text-white bg-orange-600 border-orange-600",red:"text-white bg-red-600 border-red-600",green:"text-white bg-green-600 border-green-600",yellow:"text-white bg-yellow-600 border-yellow-600",gray:"text-white bg-gray-600 border-gray-600"};return y[d]||y.gray};return l==="dropdown"?o.createElement("div",{className:"w-full md:w-64"},o.createElement("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Category"),o.createElement("select",{id:"category",name:"category",value:e,onChange:d=>w(d.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},o.createElement("option",{value:""},"All Categories"),k.map(d=>o.createElement("option",{key:d.value||d,value:d.value||d},b&&d.icon?`${d.icon} `:"",d.label||d,v&&d.count?` (${d.count})`:"")))):l==="tabs"?o.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},o.createElement("nav",{className:"-mb-px flex space-x-8 overflow-x-auto"},o.createElement("button",{onClick:()=>w(""),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300":"border-indigo-500 text-indigo-600 dark:text-indigo-400"}`},"All Categories"),k.map(d=>o.createElement("button",{key:d.value||d,onClick:()=>w(d.value||d),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center ${e===(d.value||d)?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`},b&&d.icon&&o.createElement("span",{className:"mr-2"},d.icon),d.label||d,v&&d.count&&o.createElement("span",{className:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full text-xs"},d.count))))):l==="pills"?o.createElement("div",{className:"flex flex-wrap gap-2"},o.createElement("button",{onClick:()=>w(""),className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium border transition-colors duration-200 ${e?"text-gray-700 bg-white border-gray-300 hover:bg-gray-50 dark:text-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:hover:bg-gray-700":"text-white bg-indigo-600 border-indigo-600"}`},"All Categories"),k.map(d=>{const y=e===(d.value||d),s=y?E(d.color):N(d.color);return o.createElement("button",{key:d.value||d,onClick:()=>w(d.value||d),className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium border transition-colors duration-200 ${s}`},b&&d.icon&&o.createElement("span",{className:"mr-2"},d.icon),d.label||d,v&&d.count&&o.createElement("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${y?"bg-white bg-opacity-20":"bg-gray-100 text-gray-600"}`},d.count))})):null};function Ne({auth:k,products:e,filters:n,categories:t}){const[h,b]=se.useState(n.search||"");o.useEffect(()=>{if(console.log("Products Index Debug:",{products:e,productsData:e==null?void 0:e.data,categories:t,filters:n}),e!=null&&e.data){const l=e.data.filter(w=>!w||!w.id);l.length>0&&console.warn("Found products with missing IDs:",l)}},[e,t,n]);const v=l=>{const w=l.target.value;b(w),setTimeout(()=>{try{U.get(D("products.index"),{...n,search:w},{preserveState:!0})}catch(N){console.error("Search error:",N)}},300)};return o.createElement(ue,{auth:k,title:"Fresh Grocery Products"},o.createElement(ce,{title:"Products - Online Grocery Store"}),o.createElement("div",{className:"mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4"},"Fresh Grocery Products"),o.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-lg"},"Discover our premium selection of fresh groceries, from seafood and meat to vegetables and fruits.")),t&&t.length>0&&o.createElement("div",{className:"mb-6"},o.createElement(ne,{categories:t,currentCategory:n.category||"",routeName:"products.index",filters:n,layout:"pills",showIcons:!0})),o.createElement("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4"},o.createElement("div",{className:"flex flex-col md:flex-row gap-4"},o.createElement("div",{className:"flex-1"},o.createElement("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search Products"),o.createElement("div",{className:"relative rounded-md shadow-sm"},o.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))),o.createElement("input",{type:"text",name:"search",id:"search",value:h,onChange:v,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md",placeholder:"Search by name or description..."}))),t&&t.length>0&&o.createElement(ne,{categories:t,currentCategory:n.category||"",routeName:"products.index",filters:n,layout:"dropdown",showIcons:!0}))),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},e.data&&e.data.filter(l=>l&&l.id).map(l=>o.createElement("div",{key:l.id,className:"bg-white dark:bg-gray-800 overflow-hidden shadow-md rounded-lg transition-all duration-300 hover:shadow-lg border border-gray-200 dark:border-gray-700"},o.createElement("div",{className:"relative"},l.image_url?o.createElement("img",{...de({src:l.image_url,alt:l.name,className:"w-full h-48 object-cover",type:"product"}),onError:w=>{const N=w.target.parentNode;if(N){const E=document.createElement("div");E.className="w-full h-48 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800",E.innerHTML=`
                                                    <div class="text-center">
                                                        <div class="text-4xl mb-2">${l.category_icon||"ðŸ“¦"}</div>
                                                        <div class="text-sm text-gray-600 dark:text-gray-400">${l.name}</div>
                                                    </div>
                                                `,N.replaceChild(E,w.target)}}}):o.createElement("div",{className:"w-full h-48 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800"},o.createElement("div",{className:"text-center"},o.createElement("div",{className:"text-4xl mb-2"},l.category_icon||"ðŸ“¦"),o.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},l.name))),o.createElement("div",{className:"absolute top-2 right-2"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.stock_quantity>10?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l.stock_quantity>0?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`},l.stock_quantity>10?"In Stock":l.stock_quantity>0?"Low Stock":"Out of Stock"))),o.createElement("div",{className:"p-4"},o.createElement("div",{className:"flex justify-between items-start mb-2"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex-1"},l.name),l.category&&o.createElement(fe,{category:l.category_display_name||l.category,icon:l.category_icon,color:l.category_color,size:"xs",className:"ml-2 flex-shrink-0"})),o.createElement("p",{className:"text-gray-600 dark:text-gray-300 mt-2 text-sm line-clamp-2"},l.description),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400"},"â‚±",l.price!==null&&l.price!==void 0?typeof l.price=="number"?l.price.toFixed(2):parseFloat(l.price||0).toFixed(2):"0.00",l.unit_type==="kg"?"/kg":"/piece")),o.createElement("div",{className:"mt-4 flex justify-between items-center"},l.id?o.createElement(X,{href:(()=>{try{return D("products.show",l.id)}catch(w){return console.error("Route generation error for product:",l.id,w),"#"}})(),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 flex items-center"},o.createElement("span",null,"View Details"),o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))):o.createElement("span",{className:"text-gray-400 dark:text-gray-500 flex items-center"},o.createElement("span",null,"View Details"),o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))),l.stock_quantity>0&&l.id&&o.createElement("button",{onClick:()=>{try{const w=D("cart.add",l.id);U.post(w,{quantity:l.unit_type==="kg"?250:1},{preserveScroll:!0,onError:N=>{console.error("Cart add error:",N)}})}catch(w){console.error("Cart route error for product:",l.id,w)}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})),"Add to Cart")))))),e.links&&e.links.length>3&&o.createElement("div",{className:"mt-6"},o.createElement("div",{className:"flex items-center justify-center gap-1"},e.links.map((l,w)=>l.url?o.createElement(X,{key:w,href:l.url,className:`px-4 py-2 text-sm rounded-md ${l.active?"bg-indigo-600 dark:bg-indigo-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,dangerouslySetInnerHTML:{__html:l.label}}):o.createElement("span",{key:w,className:"px-4 py-2 text-sm rounded-md opacity-50 cursor-not-allowed text-gray-400 dark:text-gray-600",dangerouslySetInnerHTML:{__html:l.label}})))))}export{Ne as default};
