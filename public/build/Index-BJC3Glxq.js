import{r as u,R as e,$ as f,Y as c}from"./app2.js";import{M as h}from"./MainLayout-DgPacG7F.js";import"./FlashMessage-CcTVzuzS.js";import"./NotificationDropdown-Bq8s4d9o.js";import"./transition-Cpe-sHT0.js";function N({auth:x,orders:s}){const[a,m]=u.useState({status:"",search:"",date_from:"",date_to:"",sort_by:"created_at",sort_direction:"desc"}),[g,p]=u.useState(s),y={pending:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",processing:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",delivered:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",cancelled:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"};u.useEffect(()=>{let t=[...s];if(a.status&&(t=t.filter(r=>r.status===a.status)),a.search){const r=a.search.toLowerCase();t=t.filter(l=>l.id.toString().includes(r)||l.order_number&&l.order_number.toLowerCase().includes(r)||l.total_amount.toString().includes(r))}if(a.date_from){const r=new Date(a.date_from);t=t.filter(l=>new Date(l.created_at)>=r)}if(a.date_to){const r=new Date(a.date_to);r.setHours(23,59,59,999),t=t.filter(l=>new Date(l.created_at)<=r)}t.sort((r,l)=>{let n=r[a.sort_by],i=l[a.sort_by];return a.sort_by==="created_at"&&(n=new Date(r.created_at).getTime(),i=new Date(l.created_at).getTime()),a.sort_by==="total_amount"&&(n=parseFloat(r.total_amount),i=parseFloat(l.total_amount)),a.sort_direction==="asc"?n>i?1:-1:n<i?1:-1}),p(t)},[a,s]);const o=t=>{const{name:r,value:l}=t.target;m(n=>({...n,[r]:l}))},d=t=>{m(r=>({...r,sort_by:t,sort_direction:r.sort_by===t&&r.sort_direction==="desc"?"asc":"desc"}))};return e.createElement(h,{auth:x,title:"Your Orders"},e.createElement(f,{title:"Your Orders - Seafood Online Store"}),e.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden"},e.createElement("div",{className:"px-4 py-5 sm:p-6"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Order History"),e.createElement(c,{href:route("products.index"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),"Continue Shopping")),s.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},e.createElement("div",null,e.createElement("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search"),e.createElement("input",{type:"text",name:"search",id:"search",value:a.search,onChange:o,placeholder:"Order number or amount",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-md"})),e.createElement("div",null,e.createElement("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Status"),e.createElement("select",{id:"status",name:"status",value:a.status,onChange:o,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-md"},e.createElement("option",{value:""},"All Statuses"),e.createElement("option",{value:"pending"},"Pending"),e.createElement("option",{value:"processing"},"Processing"),e.createElement("option",{value:"delivered"},"Delivered"),e.createElement("option",{value:"cancelled"},"Cancelled"))),e.createElement("div",null,e.createElement("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"From Date"),e.createElement("input",{type:"date",name:"date_from",id:"date_from",value:a.date_from,onChange:o,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-md"})),e.createElement("div",null,e.createElement("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"To Date"),e.createElement("input",{type:"date",name:"date_to",id:"date_to",value:a.date_to,onChange:o,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded-md"}))),e.createElement("div",{className:"mt-4 flex justify-end"},e.createElement("button",{type:"button",onClick:()=>m({status:"",search:"",date_from:"",date_to:"",sort_by:"created_at",sort_direction:"desc"}),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200"},"Clear Filters"))),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},e.createElement("thead",{className:"bg-gray-50 dark:bg-gray-700"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},e.createElement("button",{onClick:()=>d("id"),className:"group inline-flex items-center"},"Order #",a.sort_by==="id"&&e.createElement("span",{className:"ml-1"},a.sort_direction==="desc"?e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})):e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))))),e.createElement("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},e.createElement("button",{onClick:()=>d("created_at"),className:"group inline-flex items-center"},"Date",a.sort_by==="created_at"&&e.createElement("span",{className:"ml-1"},a.sort_direction==="desc"?e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})):e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))))),e.createElement("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},e.createElement("button",{onClick:()=>d("total_amount"),className:"group inline-flex items-center"},"Total",a.sort_by==="total_amount"&&e.createElement("span",{className:"ml-1"},a.sort_direction==="desc"?e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})):e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))))),e.createElement("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},e.createElement("button",{onClick:()=>d("status"),className:"group inline-flex items-center"},"Status",a.sort_by==="status"&&e.createElement("span",{className:"ml-1"},a.sort_direction==="desc"?e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})):e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))))),e.createElement("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions"))),e.createElement("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},g.length>0?g.map(t=>e.createElement("tr",{key:t.id,className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150"},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-white"},t.order_number||"#"+t.id)),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},new Date(t.created_at).toLocaleDateString())),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("div",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"â‚±",parseFloat(t.total_amount).toFixed(2))),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y[t.status]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`},t.status.charAt(0).toUpperCase()+t.status.slice(1))),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium"},e.createElement("div",{className:"flex space-x-2"},e.createElement(c,{href:route("orders.show",t.id),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300"},"View Details"),t.status==="delivered"&&e.createElement(c,{href:route("orders.scanner",t.id),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 ml-2",title:"Verify Products"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"}))))))):e.createElement("tr",null,e.createElement("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"},"No orders match your filters. Try adjusting your search criteria."))))),e.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 border-t border-gray-200 dark:border-gray-600 sm:px-6"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},"Showing ",e.createElement("span",{className:"font-medium"},g.length)," of"," ",e.createElement("span",{className:"font-medium"},s.length)," orders")))):e.createElement("div",{className:"text-center py-12"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),e.createElement("h3",{className:"mt-4 text-xl font-medium text-gray-900 dark:text-white"},"No orders yet"),e.createElement("p",{className:"mt-2 text-gray-500 dark:text-gray-400 max-w-md mx-auto"},"You haven't placed any orders yet. Start shopping to place your first order."),e.createElement("div",{className:"mt-6"},e.createElement(c,{href:route("products.index"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),"Start Shopping"))))))}export{N as default};
