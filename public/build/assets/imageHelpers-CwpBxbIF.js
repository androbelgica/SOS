const p=t=>"/images/placeholder.jpg",u=(t,o,a="product")=>{if(!t)return p();if(t.startsWith("http")){const l=t.split("?")[0],e=t.includes("?")?t.substring(t.indexOf("?")).replace(/[?&]t=\d+/g,""):"";return`${l}${e}${e?"&":"?"}t=${o}`}const r=(t.startsWith("/storage")?t:`/storage/${t}`).split("?")[0];return console.log(`Image path for ${a}:`,{original:t,processed:r}),`${r}?t=${o}`},f=t=>{const{src:o,timestamp:a=Date.now(),type:d="default",alt:r="Image",className:l="",onLoad:e}=t,c=p(),n=o?u(o,a,d):c;return{src:n,alt:r,className:l,onLoad:s=>{console.log(`âœ“ Image loaded: ${r} from ${n}`),typeof e=="function"&&e(s)},onError:s=>{console.error(`Failed to load image: ${n}`),s.target.onerror=null,s.target.src=c}}};export{p as a,f as b,u as g};
