import{v as I,r as m,R as e,$ as W,m as n}from"./app-D84QhpIK.js";import{A as P}from"./AdminLayout-DqOezSMy.js";import"./FlashMessage-qDbjj4dk.js";import"./NotificationDropdown-DM9Ce-XS.js";import"./transition-RgjkZJHd.js";function z({auth:R,staff:i,filters:o}){const{data:x,setData:p,post:w,processing:E,errors:s,reset:k}=I({name:"",email:"",phone:""}),[y,v]=m.useState(""),[c,u]=m.useState(null),[l,d]=m.useState({name:"",email:"",phone:"",active:!0}),[h,f]=m.useState((o==null?void 0:o.search)||""),[b,N]=m.useState((o==null?void 0:o.status)||""),[g,a]=m.useState(null),S=t=>{t.preventDefault(),v(""),w(route("admin.delivery-staff.store"),{onSuccess:()=>{v("Delivery staff registered and password sent to email."),k(),n.reload({only:["staff"]})}})},C=t=>{t&&t.preventDefault(),n.get(route("admin.delivery-staff.index"),{search:h,status:b},{preserveState:!0})},L=t=>{u(t.id),d({name:t.name,email:t.email,phone:t.phone,active:!!t.active})},M=()=>{u(null),d({name:"",email:"",phone:"",active:!0})},D=t=>{a(t.id),n.put(route("admin.delivery-staff.update",t.id),l,{preserveScroll:!0,onSuccess:()=>{u(null),a(null),n.reload({only:["staff"]})},onError:()=>a(null)})},A=t=>{window.confirm("Are you sure you want to delete this delivery staff?")&&(a(t.id),n.delete(route("admin.delivery-staff.destroy",t.id),{preserveScroll:!0,onSuccess:()=>{a(null),n.reload({only:["staff"]})},onError:()=>a(null)}))},j=t=>{a(t.id),n.post(route("admin.delivery-staff.toggle-status",t.id),{},{preserveScroll:!0,onSuccess:()=>{a(null),n.reload({only:["staff"]})},onError:()=>a(null)})},B=t=>{window.confirm("Send a new random password to this staff's email?")&&(a(t.id),n.post(route("admin.delivery-staff.reset-password",t.id),{},{preserveScroll:!0,onSuccess:()=>{a(null),alert("Password reset and sent to email.")},onError:()=>a(null)}))};return e.createElement(P,{title:"Delivery Staff Management"},e.createElement(W,{title:"Delivery Staff Management"}),e.createElement("div",{className:"max-w-xl mx-auto mt-10 bg-white dark:bg-gray-800 p-8 rounded shadow mb-10"},e.createElement("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white"},"Register New Delivery Staff"),y&&e.createElement("div",{className:"mb-4 text-green-600 dark:text-green-400 font-semibold"},y),e.createElement("form",{onSubmit:S,className:"mb-2"},e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"block text-gray-700 dark:text-gray-200 mb-2"},"Name"),e.createElement("input",{type:"text",className:"w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:x.name,onChange:t=>p("name",t.target.value),required:!0}),s.name&&e.createElement("div",{className:"text-red-500 text-sm mt-1"},s.name)),e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"block text-gray-700 dark:text-gray-200 mb-2"},"Email"),e.createElement("input",{type:"email",className:"w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:x.email,onChange:t=>p("email",t.target.value),required:!0}),s.email&&e.createElement("div",{className:"text-red-500 text-sm mt-1"},s.email)),e.createElement("div",{className:"mb-6"},e.createElement("label",{className:"block text-gray-700 dark:text-gray-200 mb-2"},"Phone"),e.createElement("input",{type:"text",className:"w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:x.phone,onChange:t=>p("phone",t.target.value),required:!0}),s.phone&&e.createElement("div",{className:"text-red-500 text-sm mt-1"},s.phone)),e.createElement("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200",disabled:E},"Register Delivery Staff"))),e.createElement("div",{className:"max-w-5xl mx-auto mb-6 flex flex-col md:flex-row md:items-end gap-4"},e.createElement("form",{onSubmit:C,className:"flex gap-2 flex-1"},e.createElement("input",{type:"text",placeholder:"Search by name, email, phone",className:"px-3 py-2 border rounded w-full dark:bg-gray-700 dark:text-white",value:h,onChange:t=>f(t.target.value)}),e.createElement("select",{className:"px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:b,onChange:t=>N(t.target.value)},e.createElement("option",{value:""},"All Status"),e.createElement("option",{value:"active"},"Active"),e.createElement("option",{value:"inactive"},"Inactive")),e.createElement("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded"},"Filter"))),e.createElement("div",{className:"max-w-5xl mx-auto bg-white dark:bg-gray-800 rounded shadow p-4 overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Name"),e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Email"),e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Phone"),e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Status"),e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Date Added"),e.createElement("th",{className:"px-4 py-2 text-left text-gray-900 dark:text-gray-100"},"Actions"))),e.createElement("tbody",null,i.data.length===0&&e.createElement("tr",null,e.createElement("td",{colSpan:6,className:"text-center py-6 text-gray-500 dark:text-gray-300"},"No delivery staff found.")),i.data.map(t=>e.createElement("tr",{key:t.id,className:"border-b border-gray-100 dark:border-gray-700"},e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100"},c===t.id?e.createElement("input",{type:"text",className:"px-2 py-1 border rounded dark:bg-gray-700 dark:text-white",value:l.name,onChange:r=>d({...l,name:r.target.value})}):t.name),e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100"},c===t.id?e.createElement("input",{type:"email",className:"px-2 py-1 border rounded dark:bg-gray-700 dark:text-white",value:l.email,onChange:r=>d({...l,email:r.target.value})}):t.email),e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100"},c===t.id?e.createElement("input",{type:"text",className:"px-2 py-1 border rounded dark:bg-gray-700 dark:text-white",value:l.phone,onChange:r=>d({...l,phone:r.target.value})}):t.phone),e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100"},c===t.id?e.createElement("select",{className:"px-2 py-1 border rounded dark:bg-gray-700 dark:text-white",value:l.active?"1":"0",onChange:r=>d({...l,active:r.target.value==="1"})},e.createElement("option",{value:"1"},"Active"),e.createElement("option",{value:"0"},"Inactive")):t.active?e.createElement("span",{className:"text-green-600 dark:text-green-400 font-semibold"},"Active"):e.createElement("span",{className:"text-red-500 dark:text-red-400 font-semibold"},"Inactive")),e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100"},new Date(t.created_at).toLocaleDateString()),e.createElement("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100 space-x-2"},c===t.id?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>D(t),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs mr-1",disabled:g===t.id,title:"Save"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))),e.createElement("button",{onClick:M,className:"bg-gray-400 hover:bg-gray-500 text-white px-2 py-1 rounded text-xs",title:"Cancel"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))):e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>L(t),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs mr-1",title:"Edit"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13h3l8-8a2.828 2.828 0 10-4-4l-8 8v3z"}))),e.createElement("button",{onClick:()=>j(t),className:`px-2 py-1 rounded text-xs mr-1 ${t.active?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:g===t.id,title:t.active?"Deactivate":"Activate"},t.active?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 12h12"}))),e.createElement("button",{onClick:()=>B(t),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-2 py-1 rounded text-xs mr-1",disabled:g===t.id,title:"Reset Password"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0-1.104.896-2 2-2s2 .896 2 2-.896 2-2 2-2-.896-2-2zm0 0V7m0 4v4m0 0h4m-4 0H8"}))),e.createElement("button",{onClick:()=>A(t),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",disabled:g===t.id,title:"Delete"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))))))),i.links&&i.links.length>3&&e.createElement("div",{className:"mt-6 flex justify-center"},e.createElement("nav",{className:"flex space-x-2"},i.links.map((t,r)=>t.url?e.createElement("a",{key:r,href:t.url,className:`px-3 py-2 text-sm rounded transition-colors duration-200 ${t.active?"bg-blue-500 dark:bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,dangerouslySetInnerHTML:{__html:t.label}}):e.createElement("span",{key:r,className:`px-3 py-2 text-sm rounded transition-colors duration-200 ${t.active?"bg-blue-500 dark:bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,dangerouslySetInnerHTML:{__html:t.label}}))))))}export{z as default};
