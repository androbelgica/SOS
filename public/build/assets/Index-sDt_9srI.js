import{r as m,R as e,$ as f,Y as n,m as E}from"./app-D84QhpIK.js";import{M as b}from"./MainLayout-CRmf0Gt9.js";import{A as N}from"./AdminLayout-DqOezSMy.js";import{F as c,a as h}from"./SparklesIcon-zj6JPPqZ.js";import{F as w}from"./CheckCircleIcon-BdsjLafr.js";import{F as k}from"./XCircleIcon-W-v1Rsy7.js";import{F as v}from"./ClockIcon-CVrCKoZt.js";import{F as R}from"./TrashIcon-B3_tcXEc.js";import"./FlashMessage-qDbjj4dk.js";import"./NotificationDropdown-DM9Ce-XS.js";import"./transition-RgjkZJHd.js";function _({title:s,titleId:a,...r},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},r),s?m.createElement("title",{id:a},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const i=m.forwardRef(_);function U({auth:s,recognitions:a,canViewAll:r}){const[o,x]=m.useState(null),g=s.user.role==="admin"?N:b,u=t=>{confirm("Are you sure you want to delete this recognition record?")&&E.delete(route("admin.product-recognition.destroy",t),{onSuccess:()=>{x(null)}})},p=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=t=>t>=80?"text-green-600 dark:text-green-400":t>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return e.createElement(g,{auth:s},e.createElement(f,{title:r?"Product Recognition Management":"My Recognitions"}),e.createElement("div",{className:"py-12"},e.createElement("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8"},e.createElement("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},e.createElement("div",{className:"p-6 text-gray-900 dark:text-gray-100"},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("div",{className:"flex items-center"},e.createElement(c,{className:"h-8 w-8 text-blue-600 mr-3"}),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},r?"Product Recognition Management":"My Recognition History"),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},r?"View and manage all product recognition records":"View your product recognition history and results"))),e.createElement(n,{href:route("product-recognition.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},e.createElement(i,{className:"h-5 w-5 mr-2"}),"New Recognition")),r&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},e.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},e.createElement("div",{className:"flex items-center"},e.createElement(c,{className:"h-8 w-8 text-blue-600 mr-3"}),e.createElement("div",null,e.createElement("p",{className:"text-sm text-blue-600 dark:text-blue-400"},"Total Recognitions"),e.createElement("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100"},a.total)))),e.createElement("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},e.createElement("div",{className:"flex items-center"},e.createElement(w,{className:"h-8 w-8 text-green-600 mr-3"}),e.createElement("div",null,e.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},"Seafood Detected"),e.createElement("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100"},a.data.filter(t=>t.seafood_detected).length)))),e.createElement("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg"},e.createElement("div",{className:"flex items-center"},e.createElement(k,{className:"h-8 w-8 text-yellow-600 mr-3"}),e.createElement("div",null,e.createElement("p",{className:"text-sm text-yellow-600 dark:text-yellow-400"},"No Seafood"),e.createElement("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100"},a.data.filter(t=>!t.seafood_detected).length)))),e.createElement("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},e.createElement("div",{className:"flex items-center"},e.createElement(v,{className:"h-8 w-8 text-purple-600 mr-3"}),e.createElement("div",null,e.createElement("p",{className:"text-sm text-purple-600 dark:text-purple-400"},"This Month"),e.createElement("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100"},a.data.filter(t=>new Date(t.created_at).getMonth()===new Date().getMonth()).length))))),a.data.length>0?e.createElement("div",{className:"space-y-4"},a.data.map(t=>e.createElement("div",{key:t.id,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600"},e.createElement("div",{className:"flex items-start justify-between"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center mb-3"},e.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium mr-3 ${t.seafood_detected?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200"}`},t.seafood_detected?"ðŸŸ Seafood Detected":"âš ï¸ No Seafood"),t.is_mock_data&&e.createElement("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-full text-xs"},"Demo Data"),e.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-auto"},p(t.created_at))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",null,e.createElement("h4",{className:"font-medium text-gray-900 dark:text-white mb-2"},"Top Detections"),t.detected_labels&&t.detected_labels.length>0?e.createElement("div",{className:"space-y-1"},t.detected_labels.slice(0,3).map((l,d)=>e.createElement("div",{key:d,className:"flex justify-between text-sm"},e.createElement("span",{className:"text-gray-600 dark:text-gray-400"},l.description),e.createElement("span",{className:`font-medium ${y(l.confidence)}`},l.confidence,"%")))):e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"No labels detected")),e.createElement("div",null,e.createElement("h4",{className:"font-medium text-gray-900 dark:text-white mb-2"},"Product Suggestions"),t.suggested_products&&t.suggested_products.length>0?e.createElement("div",{className:"space-y-1"},t.suggested_products.slice(0,2).map((l,d)=>e.createElement("div",{key:d,className:"text-sm"},e.createElement("p",{className:"text-gray-900 dark:text-white font-medium"},l.name),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"â‚±",l.price))),t.suggested_products.length>2&&e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},"+",t.suggested_products.length-2," more")):e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"No suggestions")),r&&e.createElement("div",null,e.createElement("h4",{className:"font-medium text-gray-900 dark:text-white mb-2"},"User Info"),e.createElement("div",{className:"text-sm"},e.createElement("p",{className:"text-gray-900 dark:text-white"},t.user?t.user.name:"Unknown User"),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Confidence: ",t.confidence_score,"%"))))),e.createElement("div",{className:"flex items-center space-x-2 ml-4"},e.createElement(n,{href:route("admin.product-recognition.show",t.id),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},e.createElement(h,{className:"h-4 w-4 mr-1"}),"View"),e.createElement("button",{onClick:()=>u(t.id),className:"inline-flex items-center px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"},e.createElement(R,{className:"h-4 w-4 mr-1"}),"Delete")))))):e.createElement("div",{className:"text-center py-12"},e.createElement(c,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No Recognition Records"),e.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-6"},r?"No users have performed product recognition yet.":"You haven't performed any product recognition yet."),e.createElement(n,{href:route("product-recognition.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},e.createElement(i,{className:"h-5 w-5 mr-2"}),"Start Recognition")),a.links&&a.links.length>3&&e.createElement("div",{className:"mt-6 flex justify-center"},e.createElement("nav",{className:"flex space-x-2"},a.links.map((t,l)=>e.createElement(n,{key:l,href:t.url||"#",className:`px-3 py-2 rounded-md text-sm font-medium ${t.active?"bg-blue-600 text-white":t.url?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}})))))))))}export{U as default};
