import{T as c,I as s}from"./InputError-DVSqNHbW.js";import{I as m}from"./InputLabel-B7p3SMX7.js";import{P as b}from"./PrimaryButton-B0xtY6gN.js";import{q as k,r as u,v as C,Y as w}from"./app-D84QhpIK.js";import{z as P}from"./transition-RgjkZJHd.js";function z({mustVerifyEmail:d,status:g,className:p=""}){const t=k().props.auth.user,[o,v]=u.useState(null),n=u.useRef(null),{data:r,setData:a,patch:f,errors:l,processing:E,recentlySuccessful:R}=C({name:t.name,email:t.email,address:t.address||"",phone:t.phone||"",city:t.city||"",state:t.state||"",postal_code:t.postal_code||"",country:t.country||"",avatar:null}),y=()=>{n.current.click()},h=()=>{const e=n.current.files[0];if(!e)return;a("avatar",e);const i=new FileReader;i.onload=N=>{v(N.target.result)},i.readAsDataURL(e)},x=e=>{e.preventDefault(),f(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{n.current&&(n.current.value="")}})};return React.createElement("section",{className:p},React.createElement("header",null,React.createElement("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Profile Information"),React.createElement("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Update your account's profile information and email address.")),React.createElement("form",{onSubmit:x,className:"mt-6 space-y-6",encType:"multipart/form-data"},React.createElement("div",null,React.createElement(m,{htmlFor:"name",value:"Name"}),React.createElement(c,{id:"name",className:"mt-1 block w-full",value:r.name,onChange:e=>a("name",e.target.value),required:!0,isFocused:!0,autoComplete:"name"}),React.createElement(s,{className:"mt-2",message:l.name})),React.createElement("div",null,React.createElement(m,{htmlFor:"email",value:"Email"}),React.createElement(c,{id:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:e=>a("email",e.target.value),required:!0,autoComplete:"username"}),React.createElement(s,{className:"mt-2",message:l.email})),d&&t.email_verified_at===null&&React.createElement("div",null,React.createElement("p",{className:"mt-2 text-sm text-gray-800"},"Your email address is unverified.",React.createElement(w,{href:route("verification.send"),method:"post",as:"button",className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},"Click here to re-send the verification email.")),g==="verification-link-sent"&&React.createElement("div",{className:"mt-2 text-sm font-medium text-green-600"},"A new verification link has been sent to your email address.")),React.createElement("div",{className:"mt-6"},React.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Profile Photo"),React.createElement("div",{className:"mt-2 flex items-center space-x-6"},React.createElement("div",{className:"flex-shrink-0"},o?React.createElement("img",{src:o,alt:"Profile preview",className:"h-20 w-20 rounded-full object-cover"}):t.avatar?React.createElement("img",{src:`/storage/${t.avatar}`,alt:t.name,className:"h-20 w-20 rounded-full object-cover"}):React.createElement("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700"},React.createElement("svg",{className:"h-10 w-10 text-gray-400 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})))),React.createElement("div",null,React.createElement("button",{type:"button",className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm font-medium leading-4 text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",onClick:y},"Change Photo"),React.createElement("input",{type:"file",className:"hidden",ref:n,onChange:h}),React.createElement("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"JPG, PNG, GIF up to 1MB")))),React.createElement("div",{className:"mt-6"},React.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Contact Information"),React.createElement("div",{className:"mt-4"},React.createElement(m,{htmlFor:"phone",value:"Phone Number"}),React.createElement(c,{id:"phone",type:"text",className:"mt-1 block w-full",value:r.phone,onChange:e=>a("phone",e.target.value),autoComplete:"tel"}),React.createElement(s,{className:"mt-2",message:l.phone}))),React.createElement("div",{className:"mt-6"},React.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Address Information"),React.createElement("div",{className:"mt-4"},React.createElement(m,{htmlFor:"address",value:"Street Address"}),React.createElement(c,{id:"address",type:"text",className:"mt-1 block w-full",value:r.address,onChange:e=>a("address",e.target.value),autoComplete:"street-address"}),React.createElement(s,{className:"mt-2",message:l.address})),React.createElement("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2"},React.createElement("div",null,React.createElement(m,{htmlFor:"city",value:"City"}),React.createElement(c,{id:"city",type:"text",className:"mt-1 block w-full",value:r.city,onChange:e=>a("city",e.target.value),autoComplete:"address-level2"}),React.createElement(s,{className:"mt-2",message:l.city})),React.createElement("div",null,React.createElement(m,{htmlFor:"state",value:"State / Province"}),React.createElement(c,{id:"state",type:"text",className:"mt-1 block w-full",value:r.state,onChange:e=>a("state",e.target.value),autoComplete:"address-level1"}),React.createElement(s,{className:"mt-2",message:l.state}))),React.createElement("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2"},React.createElement("div",null,React.createElement(m,{htmlFor:"postal_code",value:"Postal Code"}),React.createElement(c,{id:"postal_code",type:"text",className:"mt-1 block w-full",value:r.postal_code,onChange:e=>a("postal_code",e.target.value),autoComplete:"postal-code"}),React.createElement(s,{className:"mt-2",message:l.postal_code})),React.createElement("div",null,React.createElement(m,{htmlFor:"country",value:"Country"}),React.createElement(c,{id:"country",type:"text",className:"mt-1 block w-full",value:r.country,onChange:e=>a("country",e.target.value),autoComplete:"country-name"}),React.createElement(s,{className:"mt-2",message:l.country})))),React.createElement("div",{className:"flex items-center gap-4"},React.createElement(b,{disabled:E},"Save"),React.createElement(P,{show:R,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Saved.")))))}export{z as default};
